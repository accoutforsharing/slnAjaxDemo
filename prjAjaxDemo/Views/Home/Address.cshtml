
@{
    ViewData["Title"] = "Address";
}

<h1>Address</h1>
<select id="select1">
    @*<option value="1">Item1</option>
        <option value="2">Item2</option>
        <option value="3">Item3</option>*@
</select>
<select id="select2">
</select>
<select id="select3">
</select>

@section Scripts{
    <script>
        const selCity = document.querySelector("#select1");
        const selRegion = document.querySelector("#select2");
        const selRoad = document.querySelector("#select3");
        selCity.addEventListener('change', () => {
            console.log(selCity.options[selCity.selectedIndex].value);

        })
    const xhr = new XMLHttpRequest();
    xhr.addEventListener('load', () => {
        const datas = JSON.parse(xhr.responseText);
        //console.log(datas);

        //Step4 : 讀出JSON資料
        datas.forEach((item) => {
            //console.log(item.city);

            //Step5 : 顯示資料
            const opt = new Option(item.city, item.city);
            selCity.options.add(opt);
        })
    })

    xhr.open("get", "@Url.Content("~/api/city")");
    xhr.send();
    </script>
}
